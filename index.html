<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Controle remoto de iluminação</title>
  </head>

  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script>
    const firebaseConfig = {
     apiKey: "AIzaSyAlIzNzZNx8xidwskd0IFC0aeWWWTAN4OE",
  authDomain: "controle-lampada-web.firebaseapp.com",
  projectId: "controle-lampada-web",
  storageBucket: "controle-lampada-web.firebasestorage.app",
  messagingSenderId: "8153827004",
  appId: "1:8153827004:web:60e6037c81423bea4132b9",
  measurementId: "G-XS252VQ9W7"   };
    firebase.initializeApp(firebaseConfig);

firebase.database().ref("SALA/estado").on("value", snapshot => {
  document.querySelector("#estado-led").textContent = snapshot.val();
});


    function ledOn() {
      firebase.database().ref("SALA").set({
        estado: "LIGADA"
      });
    }

    function ledOff() {
      firebase.database().ref("SALA").set({
        estado: "DESLIGADA"
      });
    }
  </script>
  <script src="app.js" defer></script>
  <body>
    <header>
      <img src="https://www.aranacorp.com/wp-content/uploads/arduino-esp8266-ota-programming.jpg" />
      <h1>Zitronica</h1>
      <h2>Fernando</h2>
      <h2>Curso de Arduino(IoT)</h2>
    </header>
    <h1>Controle lampada Web</h1>
    <fieldset>
      <legend>Sala</legend>
      <div>
        <button class="led-on" onclick="ledOn()">Ligar</button>
        <button class="led-off" onclick="ledOff()">Desligar</button>
      </div>
      <p>Estado do LED: <span id="estado-led">Desligada</span></p>
    </fieldset>
    <br />
    <footer>
      <p><strong> TME Education Mozambique </strong></p>
    </footer>
  </body>
</html>
